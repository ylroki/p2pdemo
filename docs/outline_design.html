<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>&#27010;&#35201;&#35774;&#35745;</title><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article" title="&#27010;&#35201;&#35774;&#35745;"><div class="titlepage"><div><div><h2 class="title"><a name="idm14902856"></a>&#27010;&#35201;&#35774;&#35745;</h2></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#idp169616">1 &#24635;&#20307;&#35774;&#35745;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#idp171008">1.1 &#20004;&#31181;P2P&#32593;&#32476;&#32467;&#26500;</a></span></dt></dl></dd><dt><span class="sect1"><a href="#idp166360">2 &#26381;&#21153;&#22120;</a></span></dt><dt><span class="sect1"><a href="#idp166960">3 &#23458;&#25143;&#31471;</a></span></dt><dd><dl><dt><span class="sect2"><a href="#idp737776">3.1 &#21069;&#31471;</a></span></dt><dt><span class="sect2"><a href="#idp738432">3.2 &#21518;&#31471;</a></span></dt></dl></dd></dl></div><div class="sect1" title="1 &#24635;&#20307;&#35774;&#35745;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp169616"></a>1 &#24635;&#20307;&#35774;&#35745;</h2></div></div></div><p>&#26412;P2P&#31995;&#32479;&#26088;&#22312;&#23454;&#29616;&#23616;&#22495;&#32593;&#30340;&#25991;&#20214;&#20849;&#20139;&#21151;&#33021;&#65292;&#25991;&#20214;&#20449;&#24687;&#20197;&#31181;&#23376;&#25991;&#20214;&#24418;&#24335;
			&#21457;&#24067;&#65292;&#23458;&#25143;&#31471;&#35299;&#26512;&#31181;&#23376;&#25991;&#20214;&#33719;&#21462;&#25991;&#20214;&#20449;&#24687;&#65292;&#19982;&#26381;&#21153;&#22120;&#20197;&#21450;&#23616;&#22495;&#32593;&#20869;&#20854;&#20182;&#23458;&#25143;&#31471;&#36890;&#20449;&#65292;
			&#20174;&#32780;&#23454;&#29616;&#25991;&#20214;&#19979;&#36733;&#12290;</p><div class="sect2" title="1.1 &#20004;&#31181;P2P&#32593;&#32476;&#32467;&#26500;"><div class="titlepage"><div><div><h3 class="title"><a name="idp171008"></a>1.1 &#20004;&#31181;P2P&#32593;&#32476;&#32467;&#26500;</h3></div></div></div><div class="sect3" title="1.1.1 &#38598;&#20013;&#24335;"><div class="titlepage"><div><div><h4 class="title"><a name="idp171352"></a>1.1.1 &#38598;&#20013;&#24335;</h4></div></div></div><p>&#23458;&#25143;&#31471;&#30331;&#24405;&#26102;&#65292;&#21521;&#22266;&#23450;&#26381;&#21153;&#22120;&#25552;&#20132;&#33258;&#36523;&#20449;&#24687;
					&#65288;IP&#22320;&#22336;&#65292;&#25991;&#20214;&#20256;&#36755;&#30417;&#21548;&#31471;&#21475;&#65292;&#33258;&#36523;&#25317;&#26377;&#30340;&#25991;&#20214;&#30340;&#20449;&#24687;&#21253;&#25324;&#25991;&#20214;&#30340;MD5&#21704;&#24076;&#20540;&#12289;&#25991;&#20214;&#22823;&#23567;&#31561;&#65289;&#65292;
					&#26381;&#21153;&#22120;&#22312;&#25968;&#25454;&#24211;&#20013;&#23384;&#20648;&#36825;&#20123;&#20449;&#24687;&#12290;</p><p>&#24403;&#23458;&#25143;&#31471;&#38656;&#35201;&#19979;&#36733;&#25991;&#20214;&#26102;&#65292;&#23427;&#37117;&#20250;&#38656;&#35201;&#19968;&#20010;&#31181;&#23376;&#25991;&#20214;&#65292;&#31867;&#20284;BT&#19979;&#36733;&#65292;
					&#20294;&#26159;&#36825;&#37324;&#30340;&#31181;&#23376;&#25991;&#20214;&#20449;&#24687;&#27604;&#36739;&#31616;&#21333;&#65292;&#20027;&#35201;&#21253;&#21547;&#25991;&#20214;&#30340;MD5&#21704;&#24076;&#20540;&#65292;&#25991;&#20214;&#22823;&#23567;&#65292;&#25991;&#20214;&#26684;&#24335;&#65292;&#25991;&#20214;&#21517;&#31561;&#65292;
					&#23458;&#25143;&#31471;&#35299;&#26512;&#31181;&#23376;&#25991;&#20214;&#65292;&#33719;&#21462;&#35813;&#25991;&#20214;&#30340;MD5&#21704;&#24076;&#20540;&#65292;&#21521;&#26381;&#21153;&#22120;&#35831;&#27714;&#35813;&#25991;&#20214;&#30340;&#30456;&#20851;&#20449;&#24687;&#12290;</p><p>&#26381;&#21153;&#22120;&#36820;&#22238;&#36825;&#20123;&#20449;&#24687;&#65292;&#21253;&#25324;&#25991;&#20214;&#22823;&#23567;&#65292;&#25317;&#26377;&#35813;&#25991;&#20214;&#30340;&#23458;&#25143;&#31471;&#30340;&#20449;&#24687;&#65292;
					&#21253;&#25324;IP&#22320;&#22336;&#65292;&#25991;&#20214;&#20256;&#36755;&#30417;&#21548;&#31471;&#21475;&#31561;&#12290;</p><p>&#25105;&#20204;&#31216;&#36825;&#20123;&#25317;&#26377;&#25991;&#20214;&#30340;&#23458;&#25143;&#31471;&#20026;Peer&#12290;</p><p>&#32780;&#35831;&#27714;&#25991;&#20214;&#30340;&#23458;&#25143;&#31471;&#19982;&#36825;&#20123;Peer&#36890;&#20449;&#65292;
					&#36890;&#36807;&#19968;&#23450;&#30340;&#35843;&#24230;&#31574;&#30053;&#20174;Peer&#20986;&#21462;&#24471;&#25991;&#20214;&#22359;&#65292;&#20174;&#32780;&#23436;&#25104;&#25991;&#20214;&#19979;&#36733;&#12290;</p></div><div class="sect3" title="1.1.2 &#20840;&#20998;&#24067;&#24335;&#32467;&#26500;&#21270;"><div class="titlepage"><div><div><h4 class="title"><a name="idp173864"></a>1.1.2 &#20840;&#20998;&#24067;&#24335;&#32467;&#26500;&#21270;</h4></div></div></div><p>&#21442;&#32771;Kademlia&#30340;&#21327;&#35758;&#65292;&#27809;&#26377;&#23458;&#25143;&#31471;&#19982;&#26381;&#21153;&#22120;&#30340;&#27010;&#24565;&#65292;
					&#25105;&#20204;&#31216;&#25152;&#26377;&#22312;Kad&#32593;&#32476;&#20013;&#23454;&#20307;&#20026;Node&#65292;&#24403;&#19968;&#20010;Node&#35797;&#22270;&#30331;&#24405;Kad&#32593;&#32476;&#26102;&#65292;
					&#23427;&#24517;&#39035;&#30693;&#36947;&#19968;&#20123;&#24050;&#32463;&#22312;Kad&#32593;&#32476;&#20013;&#30340;Node&#65292;&#36825;&#21487;&#20197;&#20197;&#19968;&#20010;&#37197;&#32622;&#25991;&#20214;&#21457;&#24067;&#65292;
					&#25353;&#29031;Kademlia&#21327;&#35758;&#19982;&#36825;&#20123;Node&#36890;&#20449;&#65292;&#25226;&#33258;&#24049;&#30340;&#20449;&#24687;&#21457;&#24067;&#21040;Kad&#32593;&#32476;&#20013;&#65292;
					&#36825;&#20123;&#20449;&#24687;&#25353;&#29031;Kademlia&#21327;&#35758;&#23384;&#20648;&#22312;&#30456;&#24212;&#30340;Node&#20013;&#12290;</p><p>&#36825;&#37324;&#30340;&#20449;&#24687;&#20027;&#35201;&#26377;&#20004;&#31867;&#65292;&#19968;&#20026;Node&#20449;&#24687;&#65292;&#21363;&#19968;&#20010;&#19977;&#20803;&#32452;&lt;Node ID, IP&#22320;&#22336;, Kad&#32593;&#32476;&#31471;&#21475;&gt;
					&#20108;&#20026;&#25991;&#20214;&#20449;&#24687;&#21363;&#19968;&#20010;&#22235;&#20803;&#32452;&lt;Key, IP&#22320;&#22336;, &#31471;&#21475;, &#25991;&#20214;&#22823;&#23567;&gt;&#65292;
					&#20854;&#20013;Key&#20026;&#35813;&#25991;&#20214;&#30340;MD5&#21704;&#24076;&#20540;&#65292;IP&#22320;&#22336;&#20026;&#25317;&#26377;&#35813;&#25991;&#20214;&#30340;Node&#30340;IP&#22320;&#22336;&#65292;
					&#31471;&#21475;&#20026;&#30456;&#24212;&#30340;&#25991;&#20214;&#20256;&#36755;&#30417;&#21548;&#31471;&#21475;&#12290;</p><p>&#24403;&#26576;&#20010;Node&#38656;&#35201;&#19979;&#36733;&#25991;&#20214;&#26102;&#65292;&#21644;&#38598;&#20013;&#24335;&#26041;&#24335;&#19968;&#26679;&#65292;&#38656;&#35201;&#19968;&#20010;&#31181;&#23376;&#25991;&#20214;&#65292;
					&#19981;&#21516;&#30340;&#26159;&#65292;&#35299;&#26512;&#31181;&#23376;&#25991;&#20214;&#33719;&#21462;&#35813;&#25991;&#20214;&#30340;MD5&#21704;&#24076;&#20540;&#21518;&#65292;&#21521;&#20854;&#20182;&#30340;Node&#26597;&#35810;&#25991;&#20214;&#30340;&#30456;&#20851;&#20449;&#24687;&#65292;
					&#20063;&#23601;&#26159;&#25105;&#20204;Kad&#32593;&#32476;&#20013;&#30340;&#31532;&#20108;&#31867;&#20449;&#24687;&#65292;&#36825;&#31867;&#20449;&#24687;&#21253;&#21547;&#20102;&#25991;&#20214;&#25317;&#26377;&#32773;&#30340;IP&#22320;&#22336;&#21644;&#25991;&#20214;&#20256;&#36755;&#30417;&#21548;&#31471;&#21475;&#65292;
					&#20043;&#21518;&#30340;&#25991;&#20214;&#22359;&#35831;&#27714;&#20197;&#21450;&#20256;&#36755;&#21644;&#38598;&#20013;&#24335;&#30340;&#26041;&#24335;&#19968;&#33268;&#12290;</p></div><div class="sect3" title="1.1.3 &#20004;&#31181;&#32593;&#32476;&#32467;&#26500;&#30340;&#28151;&#21512;"><div class="titlepage"><div><div><h4 class="title"><a name="idp162152"></a>1.1.3 &#20004;&#31181;&#32593;&#32476;&#32467;&#26500;&#30340;&#28151;&#21512;</h4></div></div></div><p>&#21487;&#20197;&#35265;&#24471;&#65292;&#20004;&#31181;&#32593;&#32476;&#32467;&#26500;&#30340;&#24046;&#24322;&#20027;&#35201;&#20307;&#29616;&#22312;&#26597;&#35810;&#24453;&#19979;&#36733;&#25991;&#20214;&#30340;&#30456;&#20851;&#20449;&#24687;&#30340;&#26041;&#24335;&#65292;
					&#21462;&#24471;&#36825;&#20123;&#20449;&#24687;&#21518;&#65292;&#19979;&#36733;&#36807;&#31243;&#26159;&#19968;&#26679;&#30340;&#12290;</p><p>&#28151;&#21512;&#36825;&#20004;&#31181;&#26041;&#24335;&#26159;&#22522;&#20110;&#36825;&#26679;&#30340;&#32771;&#34385;&#65306;&#22312;&#20225;&#19994;&#36719;&#20214;&#20135;&#21697;&#20013;&#65292;
					&#21487;&#20197;&#24067;&#32622;&#20225;&#19994;&#33258;&#24049;&#30340;&#26381;&#21153;&#22120;&#20197;&#28385;&#36275;&#19978;&#36848;&#38598;&#20013;&#24335;&#26041;&#24335;&#30340;&#38656;&#27714;&#65292;
					&#20294;&#38543;&#30528;&#29992;&#25143;&#22686;&#38271;&#65292;&#34429;&#28982;&#25991;&#20214;&#20256;&#36755;&#19981;&#38656;&#35201;&#26381;&#21153;&#22120;&#21442;&#19982;&#65292;
					&#20294;&#28304;&#28304;&#19981;&#26029;&#30340;&#26597;&#35810;&#35831;&#27714;&#20381;&#28982;&#20250;&#38477;&#20302;&#26381;&#21153;&#22120;&#24615;&#33021;&#65292;&#25152;&#20197;&#25105;&#20204;&#38656;&#35201;&#23458;&#25143;&#31471;&#20998;&#25285;&#19968;&#37096;&#20998;&#30340;&#26597;&#35810;&#12290;</p></div><div class="screenshot"><div class="mediaobject"><img src="res/login.jpeg"><div class="caption"><p>&#22270;1&#65306;Login</p></div></div><div class="mediaobject"><img src="res/download.jpeg"><div class="caption"><p>&#22270;2&#65306;Download</p></div></div></div></div></div><div class="sect1" title="2 &#26381;&#21153;&#22120;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp166360"></a>2 &#26381;&#21153;&#22120;</h2></div></div></div><p>&#35835;&#21462;&#37197;&#32622;&#25991;&#20214;&#21518;&#65292;&#37319;&#29992;I/O&#22797;&#29992;&#27169;&#22411;&#25509;&#25910;&#26469;&#33258;&#23458;&#25143;&#31471;&#30340;&#35831;&#27714;&#12290;</p></div><div class="sect1" title="3 &#23458;&#25143;&#31471;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp166960"></a>3 &#23458;&#25143;&#31471;</h2></div></div></div><p>&#20197;&#38598;&#20013;&#24335;&#30340;&#32593;&#32476;&#32467;&#26500;&#20026;&#20027;&#20307;&#65292;&#32780;&#21442;&#32771;Kademlia&#21327;&#35758;&#30340;&#20840;&#20998;&#24067;&#24335;&#32467;&#26500;&#21270;&#32593;&#32476;
			&#20027;&#35201;&#29992;&#26469;&#26597;&#35810;&#25991;&#20214;&#30340;&#25317;&#26377;&#32773;&#20449;&#24687;&#65292;&#21487;&#20197;&#20316;&#20026;&#23458;&#25143;&#31471;&#30340;&#23376;&#27169;&#22359;&#12290;</p><p>&#22312;&#27010;&#35201;&#35774;&#35745;&#20013;&#65292;&#25105;&#20204;&#20027;&#35201;&#20851;&#27880;&#23458;&#25143;&#31471;&#21508;&#23376;&#27169;&#22359;&#20043;&#38388;&#30340;&#20381;&#36182;&#20851;&#31995;&#12290;</p><div class="screenshot"><div class="mediaobject"><img src="res/module_in_client.jpeg"><div class="caption"><p>&#22270;3&#65306;Client</p></div></div></div><p>&#26412;&#31995;&#32479;&#24182;&#19981;&#20851;&#27880;&#30028;&#38754;&#35774;&#35745;&#65292;&#37319;&#29992;&#36825;&#31181;&#21069;&#31471;/&#21518;&#31471;&#30340;&#32467;&#26500;&#65292;
			&#21518;&#31471;&#19987;&#27880;&#20110;&#36923;&#36753;&#21151;&#33021;&#65292;&#36816;&#34892;&#20110;&#21518;&#21488;&#65292;&#29992;&#25143;&#20132;&#20114;&#21487;&#36890;&#36807;&#21069;&#31471;&#20351;&#29992;socket&#19982;&#21518;&#31471;&#36890;&#20449;&#12290;</p><p>&#21363;&#20415;&#26159;&#26410;&#26469;&#38656;&#35201;&#25193;&#23637;&#30028;&#38754;&#20132;&#20114;&#65292;&#20063;&#21487;&#20197;&#21482;&#25913;&#21464;&#21069;&#31471;&#20197;&#21450;&#21518;&#31471;&#19982;&#20132;&#20114;&#30456;&#20851;&#30340;&#27169;&#22359;&#21363;&#21487;&#65292;
			&#19981;&#20250;&#24433;&#21709;&#21040;&#20854;&#20182;&#21151;&#33021;&#27169;&#22359;&#12290;</p><div class="sect2" title="3.1 &#21069;&#31471;"><div class="titlepage"><div><div><h3 class="title"><a name="idp737776"></a>3.1 &#21069;&#31471;</h3></div></div></div><p>&#20174;&#21629;&#20196;&#34892;&#35835;&#21462;&#29992;&#25143;&#30340;&#21629;&#20196;&#65292;&#20570;&#31616;&#21333;&#30340;&#35299;&#26512;&#65292;&#36890;&#36807;socket&#23558;&#21629;&#20196;&#20256;&#36755;&#32473;&#21518;&#31471;&#65292;
				&#25509;&#25910;&#21518;&#31471;&#30340;&#22238;&#22797;&#24182;&#36755;&#20986;&#12290;</p></div><div class="sect2" title="3.2 &#21518;&#31471;"><div class="titlepage"><div><div><h3 class="title"><a name="idp738432"></a>3.2 &#21518;&#31471;</h3></div></div></div><div class="sect3" title="3.2.1 &#20027;&#27169;&#22359;"><div class="titlepage"><div><div><h4 class="title"><a name="idp738688"></a>3.2.1 &#20027;&#27169;&#22359;</h4></div></div></div><p>&#21551;&#21160;&#19979;&#36733;&#25991;&#20214;&#31649;&#29702;&#27169;&#22359;&#12289;&#19978;&#20256;&#25991;&#20214;&#27169;&#22359;&#12289;Kad&#32593;&#32476;&#27169;&#22359;&#12289;&#25991;&#20214;&#31995;&#32479;&#27169;&#22359;&#65292;
					&#20043;&#21518;&#36718;&#35810;&#25509;&#25910;&#24182;&#35299;&#26512;&#26469;&#33258;&#29992;&#25143;&#30340;&#21629;&#20196;&#65292;&#26681;&#25454;&#19981;&#21516;&#30340;&#21629;&#20196;&#20570;&#19981;&#21516;&#30340;&#25805;&#20316;&#12290;</p><p>Stop &#20572;&#27490;&#25152;&#26377;&#21551;&#21160;&#30340;&#27169;&#22359;&#21518;&#36864;&#20986;
					Current &#23558;&#24403;&#21069;&#19979;&#36733;&#25991;&#20214;&#30340;&#29366;&#24577;&#20256;&#36755;&#32473;&#21069;&#31471;
					*.seed &#35299;&#26512;&#31181;&#23376;&#25991;&#20214;&#24182;&#24320;&#22987;&#19979;&#36733;&#25991;&#20214;
					32&#20301;&#30340;MD5&#20540; &#19979;&#36733;&#35813;MD5&#20540;&#30340;&#25991;&#20214;</p></div><div class="sect3" title="3.2.2 &#25991;&#20214;&#31995;&#32479;&#27169;&#22359;"><div class="titlepage"><div><div><h4 class="title"><a name="idp739992"></a>3.2.2 &#25991;&#20214;&#31995;&#32479;&#27169;&#22359;</h4></div></div></div><p>&#23450;&#26399;&#25195;&#25551;&#32473;&#23450;&#30446;&#24405;&#19979;&#30340;&#25991;&#20214;&#65292;&#23558;&#30456;&#20851;&#28040;&#24687;&#23384;&#20648;&#33267;&#25968;&#25454;&#24211;&#65292;&#24182;&#25552;&#20132;&#33267;&#26381;&#21153;&#22120;&#12290;</p><p>&#25552;&#20379;&#25991;&#20214;&#21450;&#30446;&#24405;&#25805;&#20316;&#30340;&#19968;&#20123;&#25509;&#21475;&#12290;</p></div><div class="sect3" title="3.2.3 &#19979;&#36733;&#25991;&#20214;&#31649;&#29702;&#27169;&#22359;"><div class="titlepage"><div><div><h4 class="title"><a name="idp740912"></a>3.2.3 &#19979;&#36733;&#25991;&#20214;&#31649;&#29702;&#27169;&#22359;</h4></div></div></div><p>&#31649;&#29702;&#27599;&#20010;&#24453;&#19979;&#36733;&#30340;&#25991;&#20214;&#65292;&#28165;&#29702;&#19979;&#36733;&#25104;&#21151;&#25110;&#24050;&#22833;&#36133;&#30340;&#25991;&#20214;&#65292;
					&#20445;&#35777;&#27491;&#22312;&#19979;&#36733;&#30340;&#25991;&#20214;&#19981;&#36229;&#36807;&#35774;&#23450;&#20540;&#12290;</p><div class="procedure"><p>&#27599;&#20010;&#19979;&#36733;&#25991;&#20214;&#33258;&#34892;&#25511;&#21046;&#19979;&#36733;&#27969;&#31243;&#65292;&#19968;&#30452;&#24490;&#29615;</p><ol class="procedure" type="1"><li class="step" title="Step 1">&#26356;&#26032;&#19979;&#36733;&#29366;&#24577;</li><li class="step" title="Step 2">&#35831;&#27714;&#36164;&#28304;&#65292;&#21363;&#35813;&#25991;&#20214;&#30340;&#25317;&#26377;&#32773;&#30340;&#20449;&#24687;&#65292;&#21253;&#25324;&#21521;&#26381;&#21153;&#22120;&#35831;&#27714;&#65292;
						&#20197;&#21450;&#36890;&#36807;Kad&#32593;&#32476;&#26597;&#35810;&#25317;&#26377;&#19968;&#23450;&#25968;&#37327;&#36164;&#28304;&#21518;&#65292;&#21521;&#21508;&#20010;&#36164;&#28304;&#39564;&#35777;&#26159;&#21542;&#25317;&#26377;&#25991;&#20214;&#12290;</li><li class="step" title="Step 3">&#23558;&#39564;&#35777;&#36890;&#36807;&#30340;&#36164;&#28304;&#21152;&#20837;&#24037;&#20316;&#38431;&#21015;&#65292;&#21521;&#24037;&#20316;&#38431;&#21015;&#20013;&#24471;&#36164;&#28304;&#35831;&#27714;&#19979;&#36733;&#25991;&#20214;&#22359;
						&#36718;&#35810;socket&#65292;&#33509;&#26377;&#28040;&#24687;&#21040;&#26469;&#65292;&#20132;&#32473;&#21327;&#35758;&#35299;&#26512;&#27169;&#22359;&#35299;&#26512;&#65292;
						&#35813;&#27169;&#22359;&#20250;&#26681;&#25454;&#28040;&#24687;&#20869;&#23481;&#20570;&#30456;&#24212;&#25805;&#20316;&#12290;</li></ol></div><p>&#32771;&#34385;&#21040;&#26576;&#20123;&#28040;&#24687;&#38656;&#35201;&#25805;&#20316;&#19979;&#36733;&#25991;&#20214;&#65292;&#19979;&#36733;&#25991;&#20214;&#24212;&#25552;&#20379;&#32473;&#21327;&#35758;&#35299;&#26512;&#27169;&#22359;&#30456;&#24212;&#30340;&#12290;</p></div><div class="sect3" title="3.2.4 &#19978;&#20256;&#25991;&#20214;&#27169;&#22359;"><div class="titlepage"><div><div><h4 class="title"><a name="idp743824"></a>3.2.4 &#19978;&#20256;&#25991;&#20214;&#27169;&#22359;</h4></div></div></div><p>&#25509;&#25910;&#26469;&#33258;&#36828;&#31471;&#30340;&#28040;&#24687;&#65292;&#20132;&#32473;&#21327;&#35758;&#35299;&#26512;&#27169;&#22359;&#35299;&#26512;&#65292;&#35813;&#27169;&#22359;&#20250;&#26681;&#25454;&#28040;&#24687;&#20869;&#23481;&#20570;&#30456;&#24212;&#25805;&#20316;&#12290;</p><p>&#32771;&#34385;&#21040;&#26576;&#20123;&#28040;&#24687;&#38656;&#35201;&#25805;&#20316;&#19978;&#20256;&#25991;&#20214;&#27169;&#22359;&#65292;&#24212;&#25552;&#20379;&#32473;&#21327;&#35758;&#35299;&#26512;&#27169;&#22359;&#30456;&#24212;&#30340;&#22238;&#35843;&#20989;&#25968;&#12290;</p></div><div class="sect3" title="3.2.5 &#21327;&#35758;&#35299;&#26512;&#27169;&#22359;"><div class="titlepage"><div><div><h4 class="title"><a name="idp744824"></a>3.2.5 &#21327;&#35758;&#35299;&#26512;&#27169;&#22359;</h4></div></div></div><p>&#31649;&#29702;&#38598;&#20013;&#24335;&#32593;&#32476;&#30456;&#20851;&#30340;&#25152;&#26377;&#21327;&#35758;</p><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><thead><tr><th>&#39318;&#23383;&#33410;</th><th>&#21517;&#31216;</th><th>&#20316;&#29992;</th></tr></thead><tbody><tr><td>0x1</td><td>login</td><td>&#23458;&#25143;&#31471;&#30331;&#24405;&#65292;&#21578;&#30693;&#26381;&#21153;&#22120;&#33258;&#36523;&#25991;&#20214;&#20256;&#36755;&#30417;&#21548;&#31471;&#21475;&#65292;
									&#20197;&#21450;&#25317;&#26377;&#30340;&#25991;&#20214;&#30340;&#20449;&#24687;</td></tr><tr><td>0x2</td><td>logout</td><td>&#23458;&#25143;&#31471;&#21578;&#30693;&#26381;&#21153;&#22120;&#33258;&#24049;&#36864;&#20986;</td></tr><tr><td>0x4</td><td>request sources</td><td>&#23458;&#25143;&#31471;&#21521;&#26381;&#21153;&#22120;&#35831;&#27714;&#32473;&#23450;&#25991;&#20214;&#30340;&#25317;&#26377;&#32773;&#20449;&#24687;</td></tr><tr><td>0x14</td><td>request result</td><td>&#26381;&#21153;&#22120;&#25910;&#21040;0x4&#21629;&#20196;&#21518;&#65292;&#22238;&#22797;&#32473;&#23450;&#25991;&#20214;&#30340;&#25317;&#26377;&#32773;&#20449;&#24687;</td></tr><tr><td>0x21</td><td>check</td><td>&#35831;&#27714;&#19979;&#36733;&#25991;&#20214;&#30340;&#23458;&#25143;&#31471;&#21521;&#25991;&#20214;&#25317;&#26377;&#32773;&#39564;&#35777;&#25991;&#20214;&#26159;&#21542;&#23384;&#22312;</td></tr><tr><td>0x31</td><td>check result</td><td>&#25991;&#20214;&#25317;&#26377;&#32773;&#25910;&#21040;0x21&#21629;&#20196;&#21518;&#65292;&#22238;&#22797;&#25991;&#20214;&#26159;&#21542;&#23384;&#22312;</td></tr><tr><td>0x22</td><td>get file data</td><td>&#35831;&#27714;&#19979;&#36733;&#25991;&#20214;&#30340;&#23458;&#25143;&#31471;&#35831;&#27714;&#25991;&#20214;&#25317;&#26377;&#32773;&#20256;&#36755;
									&#19979;&#36733;&#25991;&#20214;&#20013;&#24471;&#26576;&#27573;&#25991;&#20214;&#22359;</td></tr><tr><td>0x32</td><td>file data</td><td>&#25991;&#20214;&#25317;&#26377;&#32773;&#25910;&#21040;0x22&#21629;&#20196;&#21518;&#65292;&#20256;&#36755;&#30456;&#24212;&#25991;&#20214;&#22359;&#20869;&#23481;</td></tr></tbody></table></div></div><div class="sect3" title="3.2.6 Kad&#32593;&#32476;&#27169;&#22359;"><div class="titlepage"><div><div><h4 class="title"><a name="idp36952"></a>3.2.6 Kad&#32593;&#32476;&#27169;&#22359;</h4></div></div></div><p>&#21442;&#32771;Kademlia&#21327;&#35758;&#65292;&#20316;&#36866;&#24403;&#35843;&#25972;&#12290;</p><div class="sect4" title="NodeID"><div class="titlepage"><div><div><h5 class="title"><a name="idp37400"></a>NodeID</h5></div></div></div><p>&#39640;64-bit&#25968;&#20540;&#19978;&#31561;&#20110;IP&#22320;&#22336;&#30340;&#38271;&#25972;&#22411;&#20540;&#65292;&#20302;64-bit&#25968;&#20540;&#19978;&#31561;&#20110;Kad&#32593;&#32476;&#31471;&#21475;&#30340;&#30701;&#25972;&#22411;&#20540;&#65292;
						&#26500;&#25104;&#19968;&#20010;128-bit&#30340;&#25968;&#20540;&#12290;&#30001;&#20110;&#25991;&#20214;&#30340;MD5&#21704;&#24076;&#20540;&#20026;128-bit&#20540;&#65292;&#36825;&#26679;&#21487;&#20197;&#20445;&#25345;&#19968;&#33268;&#12290;</p><p>&#38500;&#20102;bit&#20301;&#25968;&#19981;&#21516;&#22806;&#65292;&#36825;&#37324;&#30340;NodeID&#30340;&#24847;&#20041;&#21644;&#26631;&#27880;Kademlia&#21327;&#35758;&#20013;&#24471;NodeID&#26159;&#19968;&#33268;&#30340;&#12290;</p></div><div class="sect4" title="4&#20010;RPC"><div class="titlepage"><div><div><h5 class="title"><a name="idp38440"></a>4&#20010;RPC</h5></div></div></div><p>PING&#65292;&#26816;&#27979;&#19968;&#20010;&#33410;&#28857;&#30475;&#23427;&#26159;&#21542;&#26159;Kad&#32593;&#32476;&#19978;&#12290;</p><p>STORE&#25351;&#31034;&#19968;&#20010;&#33410;&#28857;&#23384;&#20648;&lt;key, value&gt;&#28857;&#23545;&#65292;&#20197;&#22791;&#23558;&#26469;&#30340;&#26816;&#32034;&#12290;
						key&#20026;&#26576;&#20010;&#25991;&#20214;&#30340;MD5&#21704;&#24076;&#20540;&#65292;value&#26159;&#19968;&#20010;10-bit&#30340;&#20540;&#65292;&#21069;4-bit&#34920;&#31034;&#25317;&#26377;&#32773;IP&#22320;&#22336;&#65292;
						&#20043;&#21518;2-bit&#34920;&#31034;&#25317;&#26377;&#32773;&#30340;&#25991;&#20214;&#20256;&#36755;&#30417;&#21548;&#31471;&#21475;&#65292;&#26368;&#21518;4-bit&#34920;&#31034;&#25991;&#20214;&#22823;&#23567;&#12290;
						&#21516;&#19968;&#20010;key&#21487;&#20197;&#26377;&#22810;&#20010;value&#12290;</p><p>FIND_NODE&#20197;&#19968;&#20010;128&#20301;&#30340;ID&#20316;&#20026;&#21442;&#25968;&#12290;
						&#25509;&#25910;&#26041;&#36820;&#22238;&#19968;&#31995;&#21015;&#19977;&#20803;&#32452;&lt;IP&#22320;&#22336;&#65292;UDP&#31471;&#21475;&#65292;&#33410;&#28857;ID&gt;&#65292; 
						&#21253;&#21547;&#23427;&#30693;&#36947;&#30340;k&#20010;&#8220;&#20020;&#36817;&#8221;&#30446;&#26631;ID&#30340;&#33410;&#28857;&#12290; 
						&#36825;&#20123;&#19977;&#20803;&#32452;&#21487;&#20197;&#20174;&#19968;&#20010;&#30340;k&#26742;&#33719;&#24471;&#65292;&#25110;&#32773;&#65292;&#22914;&#26524;&#26368;&#8220;&#20020;&#36817;&#8221;&#30446;&#26631;ID&#30340;k&#26742;&#19981;&#28385;&#65292;&#21017;&#20174;&#22810;&#20010;k&#26742;&#20013;&#33719;&#24471;&#12290; 
						&#22312;&#20219;&#20309;&#24773;&#20917;&#19979;&#65292;RPC&#25509;&#25910;&#26041;&#24517;&#39035;&#36820;&#22238;k&#39033; 
						&#65288;&#38500;&#38750;&#25152;&#26377;&#30340;k&#26742;&#30456;&#21152;&#20063;&#23569;&#20110;k&#20010;&#33410;&#28857;&#65292;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#23427;&#36820;&#22238;&#25152;&#26377;&#33410;&#28857;&#65289;&#12290;</p><p>FIND_VALUE&#19982;FIND_NODE&#19968;&#26679;&#36820;&#22238;&#19968;&#21015;&#19977;&#20803;&#32452;&#65292;&#26377;&#19968;&#20010;&#20363;&#22806;&#26159;&#65292; 
						&#22914;&#26524;RPC&#25509;&#25910;&#26041;&#24050;&#26377;&#20851;&#38190;&#23383;&#23545;&#24212;&#30340;&lt;key, value&gt;&#28857;&#23545;&#65292;&#37027;&#23427;&#21482;&#36820;&#22238;&#23384;&#20648;&#30340;value&#12290;</p></div><div class="sect4" title="&#36335;&#30001;&#34920;"><div class="titlepage"><div><div><h5 class="title"><a name="idp41552"></a>&#36335;&#30001;&#34920;</h5></div></div></div><p>Kademlia&#30340;&#22522;&#26412;&#36335;&#30001;&#34920;&#30340;&#32467;&#26500;&#26159;&#30456;&#24403;&#31616;&#21333;&#30340;&#21327;&#35758;&#65292;&#34429;&#28982;&#26377;&#32454;&#33410;&#20043;&#22788;&#38656;&#35201;&#22788;&#29702;&#26497;&#19981;&#24179;&#34913;&#30340;&#26641;&#12290;
						&#36335;&#30001;&#34920;&#26159;&#19968;&#20010;&#20108;&#21449;&#26641;&#65292;&#20854;&#21494;&#23376;&#26159;k&#26742;&#12290;
						&#27599;&#19968;&#20010;k&#26742;&#20013;&#21253;&#21547;&#19968;&#20123;&#26377;&#20849;&#21516;ID&#21069;&#32512;&#30340;&#33410;&#28857;&#12290;
						&#21069;&#32512;&#34920;&#31034;k&#26742;&#22312;&#20108;&#21449;&#26641;&#31181;&#30340;&#20301;&#32622;&#12290;
						&#22240;&#27492;&#65292;&#27599;&#19968;&#20010;k&#26742;&#65292;&#21253;&#25324;ID&#31354;&#38388;&#37096;&#20998;&#33539;&#22260;&#65292;
						&#25152;&#26377;k&#26742;&#19968;&#36215;&#27809;&#26377;&#37325;&#21472;&#22320;&#35206;&#30422;&#20102;&#25972;&#20010;128&#20301;&#30340;ID&#31354;&#38388;&#12290;</p><p>&#36335;&#30001;&#26641;&#20013;&#30340;&#33410;&#28857;&#26681;&#25454;&#38656;&#35201;&#21160;&#24577;&#20998;&#37197;&#12290;
						&#22270;4&#35828;&#26126;&#20102;&#36825;&#20010;&#36807;&#31243;&#12290;
						&#26368;&#21021;&#65292;&#19968;&#20010;&#33410;&#28857;u&#30340;&#36335;&#30001;&#26641;&#26377;&#19968;&#20010;&#21333;&#19968;&#30340;&#33410;&#28857;&#65292;&#20063;&#23601;&#26159;&#19968;&#20010;K&#26742;&#35206;&#30422;&#20102;&#25972;&#20010;ID&#31354;&#38388;&#12290;
						&#24403;&#20320;&#33719;&#21462;&#21040;&#19968;&#20010;&#26032;&#30340;&#33410;&#28857;&#30340;&#20449;&#24687;&#21518;&#65292;&#23581;&#35797;&#25554;&#20837;&#30340;&#35813;&#33410;&#28857;&#20449;&#24687;&#33267;&#30456;&#24212;&#30340;k&#26742;&#12290;
						&#22914;&#26524;&#35813;&#26742;&#19981;&#28385;&#30340;&#65292;&#26032;&#30340;&#33410;&#28857;&#20449;&#24687;&#25554;&#20837;&#21363;&#21487;&#12290;
						&#21542;&#21017;&#65292;&#22914;&#26524;k&#26742;&#30340;&#33539;&#22260;&#21253;&#25324;&#33258;&#24049;u&#30340;&#33410;&#28857;ID&#65292;&#37027;&#20040;&#35201;&#20998;&#35010;&#25104;&#20004;&#20010;&#26032;&#30340;k&#26742;&#65292;
						&#26742;&#20013;&#21407;&#26469;&#30340;&#20869;&#23481;&#65292;&#21152;&#20837;&#30456;&#24212;&#30340;&#20998;&#25903;&#26742;&#65292;&#24182;&#37325;&#26032;&#23581;&#35797;&#25554;&#20837;&#26032;&#30340;&#33410;&#28857;&#20449;&#24687;&#12290;
						&#22914;&#26524;&#19968;&#20010;&#19981;&#21253;&#21547;&#33410;&#28857;u&#30340;k&#26742;&#26159;&#28385;&#30340;&#65292;&#26032;&#30340;&#33410;&#28857;&#20449;&#24687;&#23601;&#34987;&#20002;&#24323;&#12290;</p><p>&#32467;&#26500;&#26497;&#19981;&#24179;&#34913;&#30340;&#26641;&#20250;&#24341;&#36215;&#19968;&#31181;&#22797;&#26434;&#30340;&#24773;&#20917;&#12290;
						&#20551;&#35774;&#33410;&#28857;u&#21152;&#20837;&#31995;&#32479;&#65292;&#24182;&#19988;&#26159;&#21807;&#19968;&#30340;ID&#20197;000&#24320;&#22987;&#30340;&#33410;&#28857;&#12290;
						&#36827;&#19968;&#27493;&#20551;&#35774;&#65292;&#31995;&#32479;&#24050;&#32463;&#25317;&#26377;&#36229;&#36807;k&#20010;&#21069;&#32512;&#20026;001&#30340;&#33410;&#28857;&#12290;
						&#24102;&#26377;&#21069;&#32512;001&#30340;&#27599;&#20010;&#33410;&#28857;&#23558;&#25226;u&#25554;&#20837;&#21040;&#19968;&#20010;&#31354;&#30340;k&#26742;&#20013;&#65292;
						&#20294;u&#30340;&#26742;&#21047;&#26032;&#26102;&#21482;&#20250;&#36890;&#30693;&#311;&#20010;&#33410;&#28857;&#12290;
						&#20026;&#20102;&#36991;&#20813;&#36825;&#20010;&#38382;&#39064;&#65292;Kademlia&#30340;&#33410;&#28857;&#23558;&#22312;&#19968;&#20010;&#33267;&#23569;&#26377;k&#20010;&#33410;&#28857;&#30340;&#23376;&#26641;&#20013;&#20445;&#23384;&#25152;&#26377;&#26377;&#25928;&#20449;&#24687;&#65292;
						&#21363;&#20351;&#36825;&#38656;&#35201;&#20998;&#35010;&#19981;&#21253;&#21547;u&#33258;&#36523;&#30340;&#26742;&#33410;&#28857;&#12290;
						&#22270;5&#35828;&#26126;&#36825;&#20123;&#39069;&#22806;&#30340;&#20998;&#35010;&#12290;&#24403;u&#21047;&#26032;&#20998;&#35010;&#26742;&#65292;&#21069;&#32512;001&#30340;&#25152;&#26377;&#33410;&#28857;&#37117;&#20250;&#25910;&#21040;&#28040;&#24687;&#12290;</p><div class="screenshot"><div class="mediaobject"><img src="res/routetable1.jpeg"><div class="caption"><p>&#22270;4&#65306;&#36335;&#30001;&#34920;&#38543;&#30528;&#26102;&#38388;&#30340;&#25512;&#31227;&#30340;&#28436;&#21464;&#12290;
							&#26368;&#21021;&#65292;&#36335;&#30001;&#34920;&#21482;&#26377;&#19968;&#20010;&#33410;&#28857;&#65292;&#20316;&#20026;&#21807;&#19968;k&#26742;&#12290;
							&#24403;&#21253;&#21547;&#33258;&#36523;ID&#30340;k&#26742;&#28385;&#26102;&#65292;&#20250;&#25345;&#32493;&#20998;&#35010;&#25104;&#20004;&#20010;K&#26742;&#12290;</p></div></div><div class="mediaobject"><img src="res/routetable2.jpeg"><div class="caption"><p>&#22270;5&#65306;&#36825;&#20010;&#22270;&#20363;&#20030;&#20102;&#33258;&#36523;&#33410;&#28857;&#20026;00...00&#30340;&#31232;&#30095;&#30340;&#36335;&#30001;&#34920;&#12290;
							&#31232;&#30095;&#30340;&#34920;&#26377;&#21487;&#33021;&#36739;&#23567;&#65288;&#20551;&#35774;&#24120;&#25968;&#30340;&#22823;&#23567;&#65289;
							&#30772;&#22351;&#20998;&#25903;&#30340;&#34892;&#20026;&#65292;&#20197;&#30830;&#20445;&#23427;&#20445;&#23384;&#33267;&#23569;k&#20010;&#33410;&#28857;&#20449;&#24687;&#30340;&#23376;&#26641;&#20013;&#30340;&#25152;&#26377;&#20449;&#24687;&#12290;</p></div></div></div></div><div class="sect4" title="Kad&#21327;&#35758;"><div class="titlepage"><div><div><h5 class="title"><a name="idp48184"></a>Kad&#21327;&#35758;</h5></div></div></div><p>&#21327;&#35758;&#25903;&#25345;&#22235;&#31181;RPC</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>&#39318;&#23383;&#33410;</th><th>&#25903;&#25345;RPC</th></tr></thead><tbody><tr><td>0x40</td><td>PING request</td></tr><tr><td>0x41</td><td>PING response</td></tr><tr><td>0x42</td><td>STORE request</td></tr><tr><td>0x44</td><td>FIND_NODE request</td></tr><tr><td>0x45</td><td>FIND_NODE response</td></tr><tr><td>0x46</td><td>FIND_VALUE request</td></tr><tr><td>0x47</td><td>FIND_VALUE response</td></tr></tbody></table></div></div></div></div></div></div></body></html>
