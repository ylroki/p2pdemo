<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Test</title><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article" title="Test"><div class="titlepage"><div><div><h2 class="title"><a name="idm14853656"></a>Test</h2></div></div><hr></div><div class="procedure" title="Procedure 1. Modify"><a name="idp106048"></a><p class="title"><b>Procedure 1. Modify</b></p><ol class="procedure" type="1"></ol></div><div class="procedure" title="Procedure 2. Make"><a name="idp107048"></a><p class="title"><b>Procedure 2. Make</b></p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>make server program.</p><pre class="programlisting">
				make p2p_server_debug
			</pre></li><li class="step" title="Step 2"><p>make client program.</p><pre class="programlisting">
				make p2p_client_debug
			</pre></li></ol></div><div class="procedure" title="Procedure 3. Configure Least 3 progresses"><a name="idp109288"></a><p class="title"><b>Procedure 3. Configure Least 3 progresses</b></p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>A server</p><ol type="a" class="substeps"><li class="step" title="Step 1.a"><p>port:8000</p></li></ol></li><li class="step" title="Step 2"><p>A client</p><ol type="a" class="substeps"><li class="step" title="Step 2.a"><p>local port:31415</p></li><li class="step" title="Step 2.b"><p>peer port:15926</p></li></ol></li><li class="step" title="Step 3"><p>One more client</p><ol type="a" class="substeps"><li class="step" title="Step 3.a"><p>local port:26535</p></li><li class="step" title="Step 3.b"><p>peer port:14159</p></li></ol></li></ol></div><div class="procedure" title="Procedure 4. Run"><a name="idp741440"></a><p class="title"><b>Procedure 4. Run</b></p><ul class="procedure"><li class="step" title="Step 1"><pre class="programlisting">
			./bin/server
			./bin/clientd
			./bin/clientd config/client2.conf
		</pre></li></ul></div><div class="procedure" title="Procedure 5. Check Output"><a name="idp742568"></a><p class="title"><b>Procedure 5. Check Output</b></p><p>Just run 'clientc' is enough.</p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Each clientd will output the file and hash.</p><p>Check if it will update periodically.</p></li><li class="step" title="Step 2"><p>Server will receive the 0x01 command.</p><p>This cmd contains several hashes.</p><p>Server record (md5,ip,port) in server.db, the record should be unique.</p></li><li class="step" title="Step 3"><p>Download.</p><pre class="programlisting">
				./bin/clientc download
			</pre><ol type="a" class="substeps"><li class="step" title="Step 3.a">Client send 0x04 cmd to request sources from server.</li><li class="step" title="Step 3.b">Server response 0x14 cmd to client.</li><li class="step" title="Step 3.c">Client send 0x21 cmd to source, check if file is exist.</li><li class="step" title="Step 3.d">Source response whether file exists or not. if exists, 
					Client adds it to workSource.</li><li class="step" title="Step 3.e">Client send 0x22 cmd to workSource, to get file data.</li><li class="step" title="Step 3.f">workSource response file data.</li></ol></li></ol></div></div></body></html>
